<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<script data-ad-client="ca-pub-4556753126419363" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<title>캐릭터상 테스트</title>
	<meta name="title" content="캐릭터상 테스트">
	<meta name="subject" content="내가 애니메이션에 나온다면 어떤 애니메이션일까? 인공지능이 당신의 얼굴을 분석해드립니다!">
	<meta name="keywords" content="캐릭터상 테스트, 인공지능 캐릭터상 테스트, 얼굴상, 얼굴상 테스트, 나와 닮은 캐릭터, 캐릭터 닮은꼴, 연예인 캐릭터 닮은꼴, 캐릭터닮음, 뽀로로 닮은, 라바 닮은, 짱구 닮은, 도라에몽 닮은, 카카오프렌즈 닮은, 둘리 닮은, 인공지능 얼굴 분석, AI 얼굴 분석, 인공지능 캐릭터 분석, 인공지능 캐릭터, 캐릭터 닮은 사람, 닮은꼴 테스트">
	<meta property="og:url" content="https://www.characterface.site/" />
	<meta property="og:type" content="website" />
	<meta property="og:title" content="캐릭터상 테스트" />
	<meta property="og:description" content="내가 애니메이션에 나온다면 어떤 애니메이션일까? 인공지능이 당신의 얼굴을 분석해드립니다! 국내 인기 캐릭터들의 사진 데이터로 학습된 인공지능이 당신이 어떤 캐릭터상인지 분석해드립니다. *업로드된 사진은 그 어떠한 곳에도 저장되지 않습니다." />
	<meta property="og:image:type" content="png" />
	<meta property="og:image" content="https://tistory2.daumcdn.net/tistory/3704925/skin/images/meta_ogtag_img.png" />
	<meta property="og:image:width" content="800" />
	<meta property="og:image:height" content="400" />

	<link rel="shortcut icon" href="characterface/favicon.ico" type="image/x-icon">
	<link rel="icon" href="characterface/favicon.ico" type="image/x-icon">
	<!-- Go to www.addthis.com/dashboard to customize your tools -->
	<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5ea1adf6206e9774"></script>

	<link rel="stylesheet" href="css/style22.css">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
	<!-- Google Fonts Roboto -->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
	<!-- Bootstrap core CSS -->
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<!-- Material Design Bootstrap -->
	<link rel="stylesheet" href="css/mdb.min.css">
	<!-- Your custom styles (optional) -->
	<link rel="stylesheet" href="css/style.css">
	<link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700;800&display=swap" rel="stylesheet">
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-164141609-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];

		function gtag() {
			dataLayer.push(arguments);
		}
		gtag('js', new Date());
		gtag('config', 'UA-164141609-1');
	</script>

	<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>

</head>

<body>

	<!-- Start your project here-->
	<nav class="navbar navbar-dark success-color">
		<p class="navbar-text white-text nanum font-weight-bold text-size-32px">캐릭터상 테스트</p>
	</nav>

	<div id="loadingBar" style="display:none;">

		<img id="loading-image" src="https://tistory4.daumcdn.net/tistory/3704925/skin/images/loadingbar.gif" alt="loading..." />
		<p id="loading-text" class="naum">
			AI가 캐릭터상을 분석중입니다...
		</p>
	</div>
	<ins class="kakao_ad_area" style="display:none;" data-ad-unit="DAN-1iv6ire0qiurd" data-ad-width="320" data-ad-height="100"></ins>

	<div>
		<p class="text-center pt-5 font-weight-bold text-size-64px">
			캐릭터상 테스트
		</p>
		<h4 class="text-center pt-3  font-weight-bold">
			내가 애니메이션에 나온다면 어떤 애니메이션일까?
		</h4>
		<h6 class="text-center pt-4  font-weight-light ml-5 mr-5">
			*한국콘텐츠진흥원에서 조사한 '국내 캐릭터 인지도 순위'를 참고하여 캐릭터를 선정하였습니다.
		</h6>
		<h6 class="text-center pt-2 pb-4 font-weight-light ml-5 mr-5">
			*업로드한 사진은 그 어떠한 곳에도 저장되지 않습니다.
		</h6>
	</div>

	<script class="jsbin" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>

	<div class="file-upload container p-5 ">
		<div class="image-upload-wrap">
			<input class="file-upload-input" type='file' onchange="readURL(this);" accept="image/*" />
			<div class="drag-text">
				<img src="img/image_icon.png" class="m-5">
				<div class="pb-5">
					<h5 class="font-weight-lighter nanum ">사진파일을 드래그 하거나 사진을 업로드 해주세요!</h5>
					<h6 class="font-weight-lighter nanum ">*업로드한 사진은 그 어떠한 곳에도 저장되지 않습니다.</h6>
				</div>
			</div>
		</div>
		<div class="file-upload-content">
			<img class="file-upload-image" id="faceimg" src="#" alt="your image" />
			<div>
				<p class="result-messege nanum font-weight-bold text-center text-size-32px"></p>
				<p id="result-messege-end" class="font-weight-bolder nanum"></p>
				<p id="result-messege-sub" class="font-weight-bolder nanum"></p>

			</div>

			<!-- Go to www.addthis.com/dashboard to customize your tools -->
			<div class="addthis_inline_share_toolbox m-5"></div>
			<ins class="kakao_ad_area" style="display:none;" 
 data-ad-unit    = "DAN-1ibc1ikyjrq06" 
 data-ad-width   = "320" 
 data-ad-height  = "50"></ins>
			
<ins class="kakao_ad_area" style="display:none;" 
 data-ad-unit    = "DAN-t89oxzv7stie" 
 data-ad-width   = "300" 
 data-ad-height  = "250"></ins> 
			<div id="label-container" style="display:none"></div>
			<div class="container">
				<canvas class="mychart" id="myChart"></canvas>
			</div>
			<div class="image-title-wrap">
				<button type="button" onclick="removeUpload()" class="btn btn-success m-5">다른사진 업로드하기
				</button>
			</div>
		</div>

	</div>

	<!-- Optional JavaScript -->
	<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>

	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>

	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

	<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
	<script>
		function readURL(input) {
			if (input.files && input.files[0]) {
				var reader = new FileReader();
				reader.onload = function(e) {
					$('.image-upload-wrap').hide();
					$('.file-upload-image').attr('src', e.target.result);
					$('.file-upload-content').show();
					$('.image-title').html(input.files[0].name);
				};
				reader.readAsDataURL(input.files[0]);
				$("#loadingBar").show();
				init().then(() => {
					console.log("hi")
					predict();
					$("#loadingBar").hide();
				});
			} else {
				removeUpload();
			}
		}

		function removeUpload() {
			$('.file-upload-input').replaceWith($('.file-upload-input').clone());
			$('.file-upload-content').hide();
			$('.image-upload-wrap').show();
		}
		$('.image-upload-wrap').bind('dragover', function() {
			$('.image-upload-wrap').addClass('image-dropping');
		});
		$('.image-upload-wrap').bind('dragleave', function() {
			$('.image-upload-wrap').removeClass('image-dropping');
		});
	</script>
	<script type="text/javascript">
		// More API functions here:
		// https://github.com/googlecreativelab/teachablemachine-community/tree/master/libraries/image
		// the link to your model provided by Teachable Machine export panel
		const URL = "https://teachablemachine.withgoogle.com/models/qprJhBlr3/" //"https://teachablemachine.withgoogle.com/models/2GpaqyyZD/";
		let model, webcam, labelContainer, maxPredictions;
		// Load the image model and setup the webcam
		async function init() {
			const modelURL = URL + "model.json";
			const metadataURL = URL + "metadata.json";
			// load the model and metadata
			// Refer to tmImage.loadFromFiles() in the API to support files from a file picker
			// or files from your local hard drive
			// Note: the pose library adds "tmImage" object to your window (window.tmImage)
			model = await tmImage.load(modelURL, metadataURL);
			maxPredictions = model.getTotalClasses();
			labelContainer = document.getElementById("label-container");
			for (let i = 0; i < maxPredictions; i++) { // and class labels
				labelContainer.appendChild(document.createElement("div"));
			}
		}
		// run the webcam image through the image model
		async function predict() {
			// predict can take in an image, video or canvas html element
			var image = document.getElementById("faceimg")
			const prediction = await model.predict(image, false);
			prediction.sort((a, b) => parseFloat(b.probability) - parseFloat(a.probability));
			console.log(prediction);
			var first = prediction[0].probability
			var second = prediction[1].probability
			var third = prediction[2].probability
			var fourth = prediction[3].probability
			var fifth = prediction[4].probability
			var sixth = prediction[5].probability
			var firstN = prediction[0].className
			var secondN = prediction[1].className
			var thirdN = prediction[2].className
			var fourthN = prediction[3].className
			var fifthN = prediction[4].className
			var sixthN = prediction[5].className
			switch (prediction[0].className) {
				case "도라에몽":
					resultMesseage = "도라에몽"
					resultMesseageSub = "학습시킨 캐릭터: 노진구, 도라에몽, 이슬이, 퉁퉁이, 비실이, 퉁퉁이 엄마"
					resultE = "당신이 캐릭터였다면 도라에몽에 등장했겠네요!"
					break
				case "짱구는 못말려":
					resultMesseage = "짱구는 못말려"
					resultMesseageSub = "학습시킨 캐릭터: 짱구, 짱구엄마, 짱구아빠, 짱아, 철수, 훈이, 유리, 맹구"
					resultE = "당신이 캐릭터였다면 짱구는 못말려에 등장했겠군요!"
					break;
				case "카카오프렌즈":
					resultMesseage = "카카오프렌즈"
					resultMesseageSub = "학습시킨 캐릭터: 라이언, 무지, 어피치, Jay-G, 프로도, 네오, 튜브, 콘"
					resultE = "당신이 캐릭터였다면 카카오프렌즈에 등장했겠군요!"
					break;
				case "뽀로로와 친구들":
					resultMesseage = "뽀로로와 친구들"
					resultMesseageSub = "학습시킨 캐릭터: 뽀로로, 루피, 포비, 에디, 패티, 크롱, 해리"
					resultE = "당신이 캐릭터였다면 뽀로로와 친구들에 등장했겠군요!"
					break;
				case "라바":
					resultMesseage = "라바"
					resultMesseageSub = "학습시킨 캐릭터: 레드, 옐로우"
					resultE = "당신이 캐릭터였다면 라바에 등장했겠군요!"
					break;
				case "아기 공룡 둘리":
					resultMesseage = "아기 공룡 둘리"
					resultMesseageSub = "학습시킨 캐릭터: 둘리, 도우너, 또치, 희동이, 마이콜, 고길동"
					resultE = "당신이 캐릭터였다면 아기 공룡 둘리에 등장했겠군요!"
					break;
				default:
					resultMesseage = "알수없음"
					//resultMesseageSub = "알수없음"
					resultE = "알수없음"
			}
			$('.result-messege').html(resultMesseage);
			$("#result-messege-sub").html(resultMesseageSub);
			$("#result-messege-end").html(resultE);
			for (let i = 0; i < maxPredictions; i++) {
				const classPrediction =
					prediction[i].className + ": " + prediction[i].probability.toFixed(2);
				labelContainer.childNodes[i].innerHTML = classPrediction;
			}
			var ctx = document.getElementById('myChart');
			var myChart =
				new Chart(ctx, {
					type: 'bar',
					data: {
						labels: [firstN, secondN, thirdN, fourthN, fifthN, sixthN],
						datasets: [{
							label: 'x100 %',
							data: [first, second, third, fourth, fifth, sixth],
							backgroundColor: ['rgba(255, 99, 132, 0.2)',
								'rgba(54, 162, 235, 0.2)',
								'rgba(255, 206, 86, 0.2)',
								'rgba(75, 192, 192, 0.2)',
								'rgba(153, 102, 255, 0.2)',
								'rgba(255, 159, 64, 0.2)'
							],
							borderColor: ['rgba(255, 99, 132, 1)',
								'rgba(54, 162, 235, 1)',
								'rgba(255, 206, 86, 1)',
								'rgba(75, 192, 192, 1)',
								'rgba(153, 102, 255, 1)',
								'rgba(255, 159, 64, 1)'
							],
							borderWidth: 1
						}]
					},
					options: {
						scales: {
							yAxes: [{
								ticks: {
									beginAtZero: true
								}
							}]
						}
					}
				});
		}
	</script>
	<script>
	</script>

	<!-- End your project here-->

	<script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>

	<!-- jQuery -->
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<!-- Bootstrap tooltips -->
	<script type="text/javascript" src="js/popper.min.js"></script>
	<!-- Bootstrap core JavaScript -->
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<!-- MDB core JavaScript -->
	<script type="text/javascript" src="js/mdb.min.js"></script>
	<!-- Your custom scripts (optional) -->
	<script type="text/javascript"></script>

</body>

</html>